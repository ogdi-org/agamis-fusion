<div class="page-container">
    <div class="table-container">
        <shared-dyntable [datasource]="tableDatasource">
            <shared-dyntable-column
                key="username"
                [template]="usernameTemplate"
                [compute]="usernameValueComputing"
                title="username"
                i18n-title="@@ui.classic.admin.pages.users.table.col.username"
                [resizable]="true"
                [width]="220"/>
            <ng-template #usernameTemplate let-value="value" let-isAlias="isAlias">
                <div ngClass="username-cell">
                    <div>{{value}}</div>
                    <div *ngIf="isAlias" ngClass="alias-icon">
                        <div ngClass="text">A</div>
                        <img ngClass="alias-icon-frame" src="{{Icon.AGAMIS_FUSION_BLUE_STAR | iconify}}" alt="agamis fusion blue star's icon" #icon/>
                    </div>
                </div>
            </ng-template>
            <shared-dyntable-column
                key="firstName"
                title="firstname"
                i18n-title="@@ui.classic.admin.pages.users.table.col.firstname"
                [resizable]="true"
                [width]="150"/>
            <shared-dyntable-column
                key="lastName"
                title="lastname"
                i18n-title="@@ui.classic.admin.pages.users.table.col.lastname"
                [resizable]="true"
                [width]="150"/>
            <shared-dyntable-column
                key="isActive"
                [template]="activeTemplate"
                [compute]="activeValueComputing"
                title="active"
                i18n-title="@@ui.classic.admin.pages.users.table.col.active"
                [resizable]="true"
                [width]="90"/>
            <ng-template #activeTemplate let-value="value" let-isActive="isActive">
                <div ngClass="active-cell">
                    <div [ngClass]="{'active': isActive }">{{value | capitalizeFirst}}</div>
                </div>
            </ng-template>
            <shared-dyntable-column
                key="lastLogin"
                [compute]="lastSeenComputing"
                title="last seen"
                i18n-title="@@ui.classic.admin.pages.users.table.col.last-seen"
                [resizable]="true"
                [initOrder]="Ordering.DESC"
                [width]="170"/>
            <shared-dyntable-column
                key="updatedAt"
                [compute]="dateTimeComputing"
                title="last updated"
                i18n-title="@@ui.classic.admin.pages.users.table.col.last-updated"
                [resizable]="true"
                [width]="200"/>
            <shared-dyntable-column
                key="createdAt"
                [compute]="dateTimeComputing"
                title="created on"
                i18n-title="@@ui.classic.admin.pages.users.table.col.created-on"
                [resizable]="true"
                [width]="160"/>
        </shared-dyntable>
    </div>
    <router-outlet/>
</div>
